---
import { getCollection } from "astro:content";
import List from "@components/List.astro";
import ListItem from "@components/ListItem.astro";
import Layout from "@layouts/Layout.astro";

const chronicles = (await getCollection("chronicles")).sort((a, b) => {
  return b.data.order - a.data.order;
});
---

<Layout title="Chronicles">
  <List>
    {
      chronicles.map((chronicle) => (
        <ListItem
          title={chronicle.data.title}
          href={`./chronicles/${chronicle.slug}`}
          actionText="Read"
          subtitle={`Entry ${chronicle.data.order}`}
        />
      ))
    }
  </List>
</Layout>
